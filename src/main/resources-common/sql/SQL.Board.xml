<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN"
"http://ibatis.apache.org/dtd/ibatis-3-mapper.dtd">

<mapper namespace="com.lhs.dao.BoardDao">
	<!-- 게시판 리스트 -->
	<select id="boardList" parameterType="HashMap" resultType="HashMap">
		select *
		from S_gyulbbe.board
		where type_seq = 2
		limit 20;
	</select>
		
	<!-- 공지사항 리스트 -->
	<select id="noticeList" parameterType="HashMap" resultType="HashMap">
		select *
		from S_gyulbbe.board
		where type_seq = 1
		limit 20;
	</select>
		
	<select id="getTotalArticleCnt" parameterType="HashMap" resultType="int">
	
	</select>
	
	<insert id ="write" parameterType="HashMap" useGeneratedKeys="true" keyProperty="boardSeq" >
	    INSERT INTO S_gyulbbe.board
	    (type_seq, member_id, member_nick, title, content, has_file, hits, create_dtm, update_dtm)
	    VALUES(
	    	#{typeSeq},
	        #{memberId},  
	        #{memberNick}, 
	        #{title},
	        #{content}, 
	        #{hasFile}, 
	        0, 
	        DATE_FORMAT(NOW(), '%Y%m%d%H%i%s'),
	        DATE_FORMAT(NOW(), '%Y%m%d%H%i%s')
	    )
	</insert>
	
	<select id="read" parameterType="HashMap" resultType="HashMap">
		select type_seq, board_seq, member_id, member_nick, title, content, has_file, hits, create_dtm, update_dtm
		from S_gyulbbe.board
		where board_seq = #{boardSeq};
	</select>

	<update id="updateHits" parameterType="HashMap" >
	</update>

	<update id="update" parameterType="HashMap">
	
	</update>
	
	<update id="updateHasFileToZero" parameterType="HashMap" >
	 	 
	 </update>
	
	<delete id="delete" parameterType="HashMap">
		delete from S_gyulbbe.board
		where board_seq = #{boardSeq};
	</delete>


</mapper>